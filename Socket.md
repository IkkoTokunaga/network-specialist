2026-02-10
# Socket
プログラム同士がネットワーク越しに通信するためのインターフェース

サーバ：ポートを開けて「待ち受け」
クライアント：そのポートに「接続」

## Socketの処理
| 処理          | 意味          |
| ----------- | ----------- |
| `socket()`  | 通信口を作る      |
| `bind()`    | IP:Port を確保 |
| `listen()`  | 接続待ち        |
| `accept()`  | 接続を受け取る     |
| `recv()`    | データ受信       |
| `sendall()` | データ送信       |
### 接続するとは
通信口を作製しただけではどこの誰と通信するかわからない
通信先と通信元でお互いにお互いのIPアドレスやポート番号などを確認して、データの送受信ができる状態のことをいう
## 例
Nginx→php-fpm の王道ルート
ブラウザ
   ↓ HTTP
nginx (:80)
   ↓ FastCGI（内部通信）
php-fpm (:9000)
   ↓
PHP実行
   ↓
FastCGIレスポンス
nginx
   ↓ HTTPレスポンス
ブラウザ
